name: keep-streamlit-awake

on:
  schedule:
    # Run every 30 minutes
    - cron: "*/30 * * * *"
  # Allow manual trigger from the Actions tab
  workflow_dispatch:

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Streamlit app health check
        env:
          APP_URL: ${{ secrets.STREAMLIT_APP_URL }}
        run: |
          echo "Pinging $APP_URL..."
          curl -fsS "$APP_URL/?ping=1" > /dev/null
          echo "Ping successful"
